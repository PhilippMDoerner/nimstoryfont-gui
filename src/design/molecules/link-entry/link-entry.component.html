<div class="linkentry" [class.linkentry--delete]="state() === 'DELETE'">
  <ng-container
    *ngTemplateOutlet="state() === 'DISPLAY' ? displayRow : deleteRow"
  />
</div>

<ng-template #displayRow>
  <!-- Entry Linktext -->
  <a (click)="linkClick.emit(entry().value)" class="linkentry__link">
    {{ entry().linkText }}
  </a>

  <!-- Entry Name -->
  <div class="linkentry__label">
    {{ entry().label }}
  </div>

  <!-- Delete Entry -->
  <div class="linkentry__delete">
    @if (canDelete()) {
      <app-button
        class="linkentry__delete-button"
        (click)="changeState('DELETE')"
        [size]="'SMALL'"
        [icon]="'trash'"
        [type]="'DANGER'"
        [outline]="true"
      ></app-button>
    }
  </div>
</ng-template>

<ng-template #deleteRow>
  <div class="linkentry__box box">
    <span class="ms-2">
      {{ deleteMessage() }}
    </span>
    <app-button
      class="box__button"
      [type]="'DANGER'"
      [size]="'SMALL'"
      [text]="'Delete'"
      (click)="delete.emit(entry().value)"
    ></app-button>
    <app-button
      class="box__button"
      [type]="'DARK'"
      [size]="'SMALL'"
      [text]="'Cancel'"
      (click)="changeState('DISPLAY')"
    ></app-button>
  </div>
</ng-template>
