(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[185],{"./src/app/_services/formly/validators.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Dq:()=>fieldsDontMatchMessage,EC:()=>timeValidator,N8:()=>dateValidator,Nd:()=>faPrefixMessage,Ou:()=>dateMessage,Oy:()=>requiredIconMessage,Z5:()=>specialCharacterValidator,cC:()=>iconValidator,d:()=>hasSpecialCharactersMessage,h9:()=>requiredMessage,iR:()=>numberValidator,jp:()=>integerValidator,k1:()=>sessionAlreadyHasAuthor,kO:()=>fieldMatchValidator,lk:()=>requiredIconValidator,tu:()=>notNumberMesage,wh:()=>invalidTimeMessage,yt:()=>requiredValidator,zG:()=>notIntegerMessage});const invalidTimeMessage={name:"time",message:"Time must have 'hh:mm:ss' pattern"},requiredMessage={name:"required",message:"This field is required!"},dateMessage={name:"date",message:"This date does not follow the pattern: 'YYYY-MM-DD'. Sorry to be such a Nazi about it. The computer is forcing me."},requiredIconMessage={name:"requiredIcon",message:"This field requires a fontawesome icon as input. Here is a list of them: https://fontawesome.com/v4.7.0/icons/"},faPrefixMessage={name:"faPrefix",message:"Icons are stored without the 'fa-' from font-awesome prefix"},notIntegerMessage={name:"notInteger",message:"Your input is not an integer. This field requires an integer number. No amount of revolution can overcome this."},notNumberMesage={name:"notNumber",message:"Your input is not a number."},hasSpecialCharactersMessage={name:"hasSpecialCharacters",message:'Your input includes one of the following invalid special characters: [ ] ( ) ? | \\ " % ~ # < > :. If you need to rebel, please dont against this.'},fieldsDontMatchMessage={name:"fieldMatch",message:"Password Not Matching"},sessionAlreadyHasAuthor={name:"isInvalidSessionAuthorPair",message:"\n    The author you selected already has a diaryentry in the session you selected. You \n    can't have 2 diaryentries from the same author in the same session. Consider writing \n    your diaryentry as an encounter instead into the diaryentry at the spot you just considered."};const timeValidator={name:"time",validation:function timeValidation(control){const isValidTime=/\d\d.[0-5]\d.[0-5]\d/.test(control.value);return isValidTime?null:{time:!isValidTime}}};function requiredValidation(control){return!!control.value||0===control.value?null:{required:!0}}const requiredValidator={name:"required",validation:requiredValidation},requiredIconValidator={name:"requiredIcon",validation:requiredValidation};const dateValidator={name:"date",validation:function dateValidation(control){return/[1-2]\d{3}-(0\d|1[0-2])-[0-3]\d/.test(control.value)?null:{date:!0}}};const iconValidator={name:"faPrefix",validation:function iconValidation(control){const hasFaPrefix=/fa-/.test(control.value),hasFasPrefix=/fas-/.test(control.value),isValidIcon=hasFaPrefix||hasFasPrefix;return isValidIcon?null:{faPrefix:isValidIcon}}};const integerValidator={name:"notInteger",validation:function isIntegerValidation(control){if(null==control.value)return null;const isInteger="number"==typeof control.value&&Number.isInteger(control.value);return isInteger?null:{notInteger:!isInteger}}};const numberValidator={name:"notNumber",validation:function isNumberValidation(control){const isNumberType="number"==typeof control.value,isNumberString="string"==typeof control.value&&!isNaN(control.value),isNumber=isNumberType||isNumberString;return isNumber?null:{notNumber:!isNumber}}};const specialCharacterValidator={name:"hasSpecialCharacters",validation:function hasNoSpecialCharactersValidation(control){if("string"==typeof control.value){const specialCharacters=["[","]","(",")","|","\\",'"',"%","~","#","<",">","?","/",":"];for(const specialCharacter of specialCharacters)if(control.value.includes(specialCharacter))return{hasSpecialCharacters:!0}}return null}};const fieldMatchValidator={name:"fieldMatch",validation:function passwordMatchValidation(control){const{password,passwordConfirm}=control.value;return passwordConfirm&&password&&passwordConfirm===password?null:{fieldMatch:!0}}}},"./src/app/design/atoms/html-text/html-text.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>HtmlTextComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var html_text_componentngResource=__webpack_require__("./src/app/design/atoms/html-text/html-text.component.scss?ngResource"),html_text_componentngResource_default=__webpack_require__.n(html_text_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let HtmlTextComponent=class HtmlTextComponent{constructor(){this.text=core.input.required()}static{this.propDecorators={text:[{type:core.Input,args:[{isSignal:!0,alias:"text",required:!0,transform:void 0}]}]}}};HtmlTextComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-html-text",template:'<div [innerHTML]="text()"></div>\n',standalone:!0,changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[html_text_componentngResource_default()]})],HtmlTextComponent)},"./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>InfoCircleTooltipComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var info_circle_tooltip_componentngResource=__webpack_require__("./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.scss?ngResource"),info_circle_tooltip_componentngResource_default=__webpack_require__.n(info_circle_tooltip_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),ng_bootstrap=__webpack_require__("./node_modules/@ng-bootstrap/ng-bootstrap/fesm2022/ng-bootstrap.mjs"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts");let InfoCircleTooltipComponent=class InfoCircleTooltipComponent{constructor(){this.tooltip=core.input.required(),this.text=core.input.required(),this.placement=(0,core.input)("top"),this.tooltipKind=(0,core.computed)((()=>this.tooltip()instanceof core.TemplateRef?"custom":"text"))}static{this.propDecorators={tooltip:[{type:core.Input,args:[{isSignal:!0,alias:"tooltip",required:!0,transform:void 0}]}],text:[{type:core.Input,args:[{isSignal:!0,alias:"text",required:!0,transform:void 0}]}],placement:[{type:core.Input,args:[{isSignal:!0,alias:"placement",required:!1,transform:void 0}]}]}}};InfoCircleTooltipComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-info-circle-tooltip",template:'<strong\n  [placement]="placement()"\n  [ngbTooltip]="tooltipKind() === \'text\' ? tooltipContent : tooltip()"\n  [tooltipClass]="\'my-tooltip\'"\n  class="pointer"\n>\n  {{ text() }}\n  <app-icon class="mx-1" [icon]="\'info-circle\'"></app-icon>\n</strong>\n\n<ng-template #tooltipContent>\n  <div class="m-0 p-0">\n    {{ tooltip() }}\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,imports:[icon_component.R,ng_bootstrap.md],styles:[info_circle_tooltip_componentngResource_default()]})],InfoCircleTooltipComponent)},"./src/app/design/organisms/editable-text/editable-text.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>EditableTextComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var editable_text_componentngResource=__webpack_require__("./src/app/design/organisms/editable-text/editable-text.component.scss?ngResource"),editable_text_componentngResource_default=__webpack_require__.n(editable_text_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),tinymce_tinymce_angular=__webpack_require__("./node_modules/@tinymce/tinymce-angular/fesm2020/tinymce-tinymce-angular.mjs"),alert_component=__webpack_require__("./src/app/design/atoms/alert/alert.component.ts"),button_component=__webpack_require__("./src/app/design/atoms/button/button.component.ts"),html_text_component=__webpack_require__("./src/app/design/atoms/html-text/html-text.component.ts"),icon_component=__webpack_require__("./src/app/design/atoms/icon/icon.component.ts"),separator_component=__webpack_require__("./src/app/design/atoms/separator/separator.component.ts"),formly_editor_field_constants=__webpack_require__("./src/app/design/organisms/formly-editor-field/formly-editor-field.constants.ts");let EditableTextComponent=class EditableTextComponent{constructor(){this.text=core.input.required(),this.placeholder=core.input.required(),this.canUpdate=core.input.required(),this.serverModel=(0,core.input)(),this.heading=(0,core.input)(),this.update=(0,core.output)(),this.settings=formly_editor_field_constants.O,this.state=(0,core.signal)("DISPLAY"),this.textModel="",this.editButtonText=(0,core.computed)((()=>{switch(this.state()){case"DISPLAY":return"edit";case"UPDATE":case"OUTDATED_UPDATE":return"cancel"}})),this.editorField=(0,core.viewChild)("editor"),(0,core.effect)((()=>{null!=this.serverModel()&&this.state.set("OUTDATED_UPDATE")}))}toggleEdit(){"UPDATE"===this.state()?this.cancelEdit():this.startEdit()}startEdit(){this.state.set("UPDATE"),this.textModel=this.text(),this.focusField()}finishEdit(){this.update.emit(this.textModel),this.state.set("DISPLAY")}cancelEdit(){this.textModel=this.text(),this.state.set("DISPLAY")}focusField(){setTimeout((()=>this.editorField()._editor.focus()),100)}static{this.ctorParameters=()=>[]}static{this.propDecorators={text:[{type:core.Input,args:[{isSignal:!0,alias:"text",required:!0,transform:void 0}]}],placeholder:[{type:core.Input,args:[{isSignal:!0,alias:"placeholder",required:!0,transform:void 0}]}],canUpdate:[{type:core.Input,args:[{isSignal:!0,alias:"canUpdate",required:!0,transform:void 0}]}],serverModel:[{type:core.Input,args:[{isSignal:!0,alias:"serverModel",required:!1,transform:void 0}]}],heading:[{type:core.Input,args:[{isSignal:!0,alias:"heading",required:!1,transform:void 0}]}],update:[{type:core.Output,args:["update"]}],editorField:[{type:core.ViewChild,args:["editor",{isSignal:!0}]}]}}};EditableTextComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-editable-text",imports:[common.NgTemplateOutlet,html_text_component.m,icon_component.R,tinymce_tinymce_angular.xn,fesm2022_forms.YN,alert_component.C,separator_component.F,button_component.Q],template:'\x3c!-- Heading --\x3e\n@let headingVal = heading();\n@if (headingVal) {\n  <h4 class="heading">\n    <app-html-text [text]="headingVal" />\n    @if (canUpdate()) {\n      <button class="heading__edit-button" (click)="toggleEdit()">\n        <h6 class="heading__edit-text">\n          (\n          {{ editButtonText() }}\n          <app-icon [icon]="\'pen\'"></app-icon>\n          )\n        </h6>\n      </button>\n    }\n  </h4>\n}\n\n\x3c!-- Text Body --\x3e\n@if (canUpdate()) {\n  <button\n    class="field field--display"\n    [class.field--hidden]="state() !== \'DISPLAY\'"\n    (click)="startEdit()"\n  >\n    <ng-container *ngTemplateOutlet="textBody" />\n  </button>\n  <form\n    class="field field--update"\n    [class.field--hidden]="state() !== \'UPDATE\'"\n    (submit)="finishEdit()"\n  >\n    <editor\n      #editor\n      id="editor"\n      [init]="settings"\n      name="textEditField"\n      [(ngModel)]="textModel"\n      class="mb-2"\n    ></editor>\n\n    \x3c!-- Form Buttons --\x3e\n    <ng-container [ngTemplateOutlet]="formButtons" />\n  </form>\n  <div\n    class="field field--update"\n    [class.field--hidden]="state() !== \'OUTDATED_UPDATE\'"\n  >\n    \x3c!-- Informating heading --\x3e\n    <app-alert [kind]="\'INFO\'">\n      <app-icon [icon]="\'info-circle\'"></app-icon>\n      While you were updating this article, somebody else went ahead and updated\n      it as well. Please include their changes in your update before submitting.\n    </app-alert>\n\n    \x3c!-- Textfield-Form --\x3e\n    <div class="flex-column card p-4">\n      \x3c!-- Comparison text --\x3e\n      <div>\n        <h3>Server Version</h3>\n        <app-html-text [text]="serverModel()!" />\n      </div>\n\n      <app-separator />\n\n      \x3c!-- Actual edit form --\x3e\n      <form (submit)="finishEdit()">\n        <h3>Your Version</h3>\n\n        <editor\n          [init]="settings"\n          name="textEditField"\n          [(ngModel)]="textModel"\n          class="mb-2"\n        ></editor>\n\n        \x3c!-- Form Buttons --\x3e\n        <ng-container [ngTemplateOutlet]="formButtons" />\n      </form>\n    </div>\n  </div>\n} @else {\n  <ng-container *ngTemplateOutlet="textBody" />\n}\n\n<ng-template #formButtons>\n  <div class="field__buttons">\n    <button\n      btn\n      [icon]="\'check\'"\n      [text]="\'Submit\'"\n      [kind]="\'PRIMARY\'"\n      [type]="\'submit\'"\n    ></button>\n    <button\n      btn\n      [icon]="\'times\'"\n      [text]="\'Cancel\'"\n      [kind]="\'SECONDARY\'"\n      (click)="cancelEdit()"\n    ></button>\n  </div>\n</ng-template>\n\n<ng-template #textBody>\n  <app-html-text [text]="text() || placeholder()" />\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[editable_text_componentngResource_default()]})],EditableTextComponent)},"./src/app/design/organisms/formly-editor-field/formly-editor-field.constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>TINYMCE_SETTINGS});const TINYMCE_SETTINGS={plugins:["advlist","autolink","lists","link","image","charmap","anchor","searchreplace","visualblocks","media","table","help","wordcount"],toolbar:["undo redo | formatselect | bold italic underline strikethrough subscript superscript link unlink blockquote | backcolor forecolor hilitecolor fontsizeselect |","alignleft aligncenter alignright | bullist numlist outdent indent | removeformat | table help"],skin:"oxide-dark",content_css:"dark",browser_spellcheck:!0,menubar:!1,height:500,convert_urls:!1,relative_urls:!1,branding:!1,base_url:"/tinymce",suffix:".min"}},"./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>FormlySelectDisableFieldComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var formly_select_disable_field_componentngResource=__webpack_require__("./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.scss?ngResource"),formly_select_disable_field_componentngResource_default=__webpack_require__.n(formly_select_disable_field_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs"),ngx_formly_bootstrap_form_field=__webpack_require__("./node_modules/@ngx-formly/bootstrap/fesm2020/ngx-formly-bootstrap-form-field.mjs"),ngx_formly_core=__webpack_require__("./node_modules/@ngx-formly/core/fesm2020/ngx-formly-core.mjs"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),combineLatest=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js"),map=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),info_circle_tooltip_component=__webpack_require__("./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.ts");let FormlySelectDisableFieldComponent=class FormlySelectDisableFieldComponent extends ngx_formly_bootstrap_form_field.P{static{this.EMPTY_OPTION_LABEL="------"}static{this.EMPTY_OPTION_VALUE=null}ngOnInit(){const templateOptions=this.props,formControl=this.formControl,model=this.model,options$=this.props.options;if(!(options$ instanceof Observable.c))throw"InvalidSelectOptionsException. You tried to create a FormlySelectDisableComponent - field, but provided an option that wasn't an Observable!";const isOptionDisabled$=(0,this.props.additionalProperties.disabledExpression)(options$,templateOptions,formControl,model);this.selectOptions$=(0,combineLatest.z)({options:options$,isDisabledList:isOptionDisabled$}).pipe((0,map.T)((({options,isDisabledList})=>options.map(((opt,index)=>({value:opt,enabled:!isDisabledList[index]})))))),this.setModelValue()}ngOnChanges(){this.setModelValue()}setModelValue(){const key=this.key,model=this.field.model;this.modelValue=model[key]}};FormlySelectDisableFieldComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-formly-select-disable",template:'<div class="field mb-3 {{ field.className }}" [class.d-none]="to.hidden">\n  <label class="form-label" [for]="\'formly_disable_select_\' + props.label">\n    <app-info-circle-tooltip\n      [text]="props.label + (props.required ? \'*\' : \'\')"\n      [tooltip]="props[\'additionalProperties\'][\'tooltipMessage\']"\n    ></app-info-circle-tooltip>\n  </label>\n\n  @let selectOptions = selectOptions$ | async;\n  @if (selectOptions) {\n    <select\n      class="form-select"\n      [name]="\'formly_disable_select_\' + props.label"\n      [id]="\'formly_disable_select_\' + props.label"\n      [required]="!!props.required"\n      [formControl]="formControl"\n      [formlyAttributes]="field"\n    >\n      @for (entry of selectOptions; track entry) {\n        <option\n          [ngValue]="entry.value[props[\'valueProp\']]"\n          [disabled]="!entry.enabled"\n          [selected]="entry.value[props[\'valueProp\']] === modelValue"\n        >\n          {{ entry.value[props["labelProp"]] }}\n        </option>\n      }\n    </select>\n  }\n</div>\n',imports:[info_circle_tooltip_component.$,fesm2022_forms.X1,ngx_formly_core.qy,common.AsyncPipe],styles:[formly_select_disable_field_componentngResource_default()]})],FormlySelectDisableFieldComponent)},"./src/app/design/organisms/page-container/page-container.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>PageContainerComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var page_container_componentngResource=__webpack_require__("./src/app/design/organisms/page-container/page-container.component.scss?ngResource"),page_container_componentngResource_default=__webpack_require__.n(page_container_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),animations=__webpack_require__("./node_modules/@angular/animations/fesm2022/animations.mjs");const fadeIn=(0,animations.hZ)("fadeIn",[(0,animations.kY)(":enter",[(0,animations.iF)({opacity:0}),(0,animations.i0)("250ms ease-in",(0,animations.iF)({opacity:1}))]),(0,animations.kY)(":leave",[(0,animations.iF)({opacity:1}),(0,animations.i0)("250ms ease-out",(0,animations.iF)({opacity:0}))])]);(0,animations.hZ)("fadeOut",[(0,animations.kY)(":leave",[(0,animations.iF)({opacity:1}),(0,animations.i0)("250ms ease-out",(0,animations.iF)({opacity:0}))])]);let PageContainerComponent=class PageContainerComponent{};PageContainerComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-page-container",template:'<div class="page" [@fadeIn]>\n  <article class="page__foreground">\n    <ng-content></ng-content>\n  </article>\n</div>\n',imports:[],animations:[fadeIn],styles:[page_container_componentngResource_default()]})],PageContainerComponent)},"./src/app/design/templates/item/item.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,NoPermission:()=>NoPermission,__namedExportsOrder:()=>__namedExportsOrder,default:()=>item_stories});var animations=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),testing=__webpack_require__("./node_modules/@angular/router/fesm2022/testing.mjs"),ngx_formly_core=__webpack_require__("./node_modules/@ngx-formly/core/fesm2020/ngx-formly-core.mjs"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),angular_dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),validators=__webpack_require__("./src/app/_services/formly/validators.ts"),molecules=__webpack_require__("./src/app/design/molecules/index.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var item_componentngResource=__webpack_require__("./src/app/design/templates/item/item.component.scss?ngResource"),item_componentngResource_default=__webpack_require__.n(item_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),router=__webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs"),routing_service=__webpack_require__("./src/app/_services/routing.service.ts"),button_link_component=__webpack_require__("./src/app/design/atoms/button-link/button-link.component.ts"),article_footer_component=__webpack_require__("./src/app/design/molecules/article-footer/article-footer.component.ts"),editable_text_component=__webpack_require__("./src/app/design/organisms/editable-text/editable-text.component.ts"),image_carousel_card_component=__webpack_require__("./src/app/design/organisms/image-carousel-card/image-carousel-card.component.ts"),page_container_component=__webpack_require__("./src/app/design/organisms/page-container/page-container.component.ts");let ItemComponent=class ItemComponent{constructor(routingService){this.routingService=routingService,this.item=core.input.required(),this.itemServerModel=core.input.required(),this.serverUrl=core.input.required(),this.canUpdate=(0,core.input)(!1),this.canCreate=(0,core.input)(!1),this.canDelete=(0,core.input)(!1),this.imageServerModel=core.input.required(),this.itemDelete=new core.EventEmitter,this.createImage=new core.EventEmitter,this.deleteImage=new core.EventEmitter,this.updateImage=new core.EventEmitter,this.itemUpdate=(0,core.output)(),this.campaignName=(0,core.computed)((()=>this.item().campaign_details?.name)),this.hasOwner=(0,core.computed)((()=>null!=this.item().owner_details)),this.overviewUrl=(0,core.computed)((()=>this.routingService.getRoutePath("item-overview",{campaign:this.campaignName()}))),this.updateUrl=(0,core.computed)((()=>this.routingService.getRoutePath("item-update",{campaign:this.campaignName(),name:this.item().name}))),this.ownerUrl=(0,core.computed)((()=>{if(this.hasOwner())return this.routingService.getRoutePath("character",{campaign:this.campaignName(),name:this.item().owner_details?.name})}))}onDescriptionUpdate(description){const itemToUpdate=void 0!==this.itemServerModel()?this.itemServerModel():this.item();itemToUpdate&&this.itemUpdate.emit({...itemToUpdate,description})}static{this.ctorParameters=()=>[{type:routing_service.O}]}static{this.propDecorators={item:[{type:core.Input,args:[{isSignal:!0,alias:"item",required:!0,transform:void 0}]}],itemServerModel:[{type:core.Input,args:[{isSignal:!0,alias:"itemServerModel",required:!0,transform:void 0}]}],serverUrl:[{type:core.Input,args:[{isSignal:!0,alias:"serverUrl",required:!0,transform:void 0}]}],canUpdate:[{type:core.Input,args:[{isSignal:!0,alias:"canUpdate",required:!1,transform:void 0}]}],canCreate:[{type:core.Input,args:[{isSignal:!0,alias:"canCreate",required:!1,transform:void 0}]}],canDelete:[{type:core.Input,args:[{isSignal:!0,alias:"canDelete",required:!1,transform:void 0}]}],imageServerModel:[{type:core.Input,args:[{isSignal:!0,alias:"imageServerModel",required:!0,transform:void 0}]}],itemDelete:[{type:core.Output}],createImage:[{type:core.Output}],deleteImage:[{type:core.Output}],updateImage:[{type:core.Output}],itemUpdate:[{type:core.Output,args:["itemUpdate"]}]}}};ItemComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"app-item",template:'<app-page-container>\n  <article class="container">\n    @if (canUpdate()) {\n      <div class="item__edit-container">\n        <a\n          btn\n          [title]="\'Edit \' + item().name"\n          [icon]="\'pencil\'"\n          [kind]="\'SECONDARY\'"\n          [routerLink]="updateUrl()"\n        >\n        </a>\n      </div>\n    }\n\n    \x3c!-- Heading --\x3e\n    <div class="row">\n      <h1 class="col-12 item__heading">\n        {{ item().name }}\n      </h1>\n\n      @if (hasOwner()) {\n        <p class="text-center col mb-5">\n          Owned by:\n          <strong>\n            <a [routerLink]="ownerUrl()">\n              {{ item().owner_details!.name }}\n            </a>\n          </strong>\n        </p>\n      }\n    </div>\n\n    \x3c!-- Image Gallery --\x3e\n    <div class="item__images">\n      <app-image-carousel-card\n        [images]="item().images ?? []"\n        [serverUrl]="serverUrl()"\n        [serverModel]="imageServerModel()"\n        [canUpdate]="canUpdate()"\n        [canCreate]="canCreate()"\n        [canDelete]="canDelete()"\n        (createImage)="createImage.emit($event)"\n        (deleteImage)="deleteImage.emit($event)"\n        (updateImage)="updateImage.emit($event)"\n      ></app-image-carousel-card>\n    </div>\n\n    \x3c!-- Description --\x3e\n    <app-editable-text\n      class="item__description"\n      [heading]="\'Description\'"\n      [placeholder]="\'Add a description for \' + item().name"\n      [text]="item().description"\n      [canUpdate]="canUpdate()"\n      (update)="onDescriptionUpdate($event)"\n    ></app-editable-text>\n\n    \x3c!-- Footer (Move to other Article + Delete Article) --\x3e\n    <app-article-footer\n      [buttonLink]="overviewUrl()"\n      [buttonLabel]="\'Back to Items\'"\n      [showDelete]="canDelete()"\n      [deleteMessage]="\'Delete \' + item().name + \'?\'"\n      (delete)="itemDelete.emit(item())"\n    ></app-article-footer>\n  </article>\n</app-page-container>\n',imports:[page_container_component.i,router.Wk,button_link_component.W,image_carousel_card_component.r,editable_text_component.T,article_footer_component.D],styles:[item_componentngResource_default()]})],ItemComponent);const dummyItem={pk:123,name:"Sword of the Paladin",description:"\n    <div>\n      <p>The Holy Sword is a legendary weapon of immense power and great significance. It is said to have been forged by the gods themselves and imbued with their divine energy, making it one of the most powerful weapons in existence. The sword is said to have been wielded by the greatest heroes throughout history, and it is believed that whoever possesses the sword is destined to become a hero themselves.</p>\n      <p>The Holy Sword is a longsword with a blade made of a bright, shimmering metal that seems to radiate with its own light. The hilt of the sword is wrapped in a soft, white leather that is said to have been taken from the hide of a unicorn. The pommel of the sword is made of a gleaming silver that is shaped like a holy symbol, and it is said that the sword's power is activated by touching the pommel to the forehead of the wielder and reciting a sacred incantation.</p>\n      <p>Legend has it that the Holy Sword has the power to vanquish any evil, no matter how powerful, and that it can only be wielded by a true hero. It is said that the sword will only respond to someone who is pure of heart and strong in spirit, and that it will reject anyone who tries to use it for their own selfish purposes. The Holy Sword is a symbol of hope and righteousness, and its very presence is said to inspire courage and valor in those who fight for what is right.</p>\n    </div>\n  ",owner:456,owner_details:{name:"John Doe",pk:456},images:[{pk:789,image:"/breeds/mastiff-tibetan/n02108551_5830.jpg",name:"Sword Image",item_article:123,article_type:"Item"},{pk:790,image:"/breeds/mastiff-tibetan/n02108551_5830.jpg",name:"Sword Close-Up",item_article:123,article_type:"Item"},{pk:791,image:"/breeds/mastiff-tibetan/n02108551_5830.jpg",item_article:123,article_type:"Item"}],campaign:1,campaign_details:{id:1,name:"Campaign of Adventures"},creation_datetime:"2022-04-01T12:00:00Z",update_datetime:"2022-04-03T09:30:00Z",getAbsoluteRouterUrl:()=>"https://example.com/items/123"},item_stories={title:"DesignSystem/Templates/ItemComponent",component:ItemComponent,decorators:[(0,angular_dist.moduleMetadata)({imports:[testing.c,animations.BrowserAnimationsModule,ngx_formly_core.qy.forRoot({types:[{name:"file",component:molecules.JS,wrappers:["form-field"]}],validationMessages:[validators.h9,validators.zG],validators:[validators.yt,validators.jp]})],declarations:[]})],args:{imageServerModel:void 0,canCreate:!0,canUpdate:!0,canDelete:!0,item:dummyItem,serverUrl:"https://images.dog.ceo"}},Template=args=>({props:{...args,createImage:(0,dist.XI)("createImage"),deleteImage:(0,dist.XI)("deleteImage"),updateImage:(0,dist.XI)("updateImage"),itemDelete:(0,dist.XI)("itemDelete")}}),Default=Template.bind({});Default.args={};const NoPermission=Template.bind({});NoPermission.args={canDelete:!1,canUpdate:!1,canCreate:!1};const __namedExportsOrder=["Default","NoPermission"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args,\n    createImage: action('createImage'),\n    deleteImage: action('deleteImage'),\n    updateImage: action('updateImage'),\n    itemDelete: action('itemDelete')\n  }\n})",...Default.parameters?.docs?.source}}},NoPermission.parameters={...NoPermission.parameters,docs:{...NoPermission.parameters?.docs,source:{originalSource:"args => ({\n  props: {\n    ...args,\n    createImage: action('createImage'),\n    deleteImage: action('deleteImage'),\n    updateImage: action('updateImage'),\n    itemDelete: action('itemDelete')\n  }\n})",...NoPermission.parameters?.docs?.source}}}},"./src/app/design/atoms/html-text/html-text.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/atoms/info-circle-tooltip/info-circle-tooltip.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,"",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/editable-text/editable-text.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: inline-block;\n}\n\n.heading {\n  margin-bottom: var(--spacer-2);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: var(--spacer-3);\n}\n.heading__edit-text {\n  margin: var(--spacer-0);\n}\n.heading__edit-button:focus, .heading__edit-button:focus-within, .heading__edit-button:hover {\n  border-radius: var(--bs-border-radius);\n  outline: var(--focus-outline);\n}\n\n.field {\n  text-align: unset;\n  border-radius: var(--bs-border-radius);\n}\n.field--display {\n  min-height: 1rem;\n  width: 100%;\n}\n.field--display:focus, .field--display:hover {\n  color: unset;\n  background-color: var(--bs-secondary);\n}\n.field--hidden {\n  display: none;\n}\n.field__buttons {\n  display: flex;\n  flex-direction: row;\n  gap: var(--spacer-3);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/formly-select-disable/formly-select-disable-field.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".warning {\n  color: var(--lightest-red);\n  font-size: 80%;\n}\n\napp-spinner {\n  --thickness: 30px;\n}\n\n.field {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/organisms/page-container/page-container.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".page {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n.page__background {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: -2;\n  width: 100%;\n  height: 100mvh;\n}\n.page__foreground {\n  max-width: 60rem;\n  width: 100%;\n  background-color: var(--wiki-bg-transparent);\n  padding: var(--spacer-3) var(--spacer-3) var(--spacer-5) var(--spacer-3);\n  margin-bottom: var(--spacer-4);\n  color: white;\n}\n@media (min-width: 768px) {\n  .page__foreground {\n    border-radius: var(--bs-border-radius);\n  }\n}\n@media (min-width: 992px) {\n  .page__foreground {\n    padding: var(--spacer-4);\n  }\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./src/app/design/templates/item/item.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".item__edit-container {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n}\n.item__heading {\n  text-align: center;\n}\n.item__subheading {\n  margin-bottom: var(--spacer-3);\n  text-align: center;\n}\n.item__images {\n  margin-bottom: var(--spacer-3);\n}\n.item__description {\n  width: 100%;\n  margin-bottom: var(--spacer-5);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);