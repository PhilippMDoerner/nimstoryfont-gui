(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[5251],{"./src/app/design/templates/marker/marker.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,NoPermission:()=>NoPermission,default:()=>marker_stories});var testing=__webpack_require__("./node_modules/@angular/router/fesm2020/testing.mjs"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),angular_dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),organisms=(__webpack_require__("./node_modules/leaflet/dist/leaflet-src.js"),__webpack_require__("./src/app/design/organisms/index.ts")),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _class,marker_componentngResource=__webpack_require__("./src/app/design/templates/marker/marker.component.scss?ngResource"),marker_componentngResource_default=__webpack_require__.n(marker_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),routing_service=__webpack_require__("./src/app/_services/routing.service.ts");let MarkerComponent=((_class=class MarkerComponent{constructor(routingService){this.routingService=routingService,this.canDelete=!1,this.canUpdate=!1,this.markerDelete=new core.EventEmitter}ngOnInit(){const parentName=this.marker.location_details?.parent_location_name,locationName=this.marker.location_details?.name,campaignName=this.marker.campaign_details.name;this.locationUrl=this.routingService.getRoutePath("location",{parent_name:parentName,name:locationName,campaign:campaignName}),this.setUrls()}ngOnChanges(){this.setUrls()}setUrls(){const parentName=this.marker.location_details?.parent_location_name,locationName=this.marker.location_details?.name,campaignName=this.marker.campaign_details.name,mapName=this.marker.map_details?.name;this.updateUrl=this.routingService.getRoutePath("marker-update",{parent_location_name:parentName,campaign:campaignName,location_name:locationName,map_name:mapName})}}).ctorParameters=()=>[{type:routing_service.Z}],_class.propDecorators={marker:[{type:core.Input}],canDelete:[{type:core.Input}],canUpdate:[{type:core.Input}],markerDelete:[{type:core.Output}]},_class);MarkerComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"app-marker",template:'<article class="container marker">\n  <ng-container *ngIf="canUpdate">\n    <div class="marker__edit-container">\n      <a [routerLink]="updateUrl">\n        <app-button\n          [icon]="\'pencil\'"\n          [type]="\'SECONDARY\'"\n        ></app-button>\n      </a>\n    </div>\n  </ng-container>\n  \n    <div class="row marker__heading heading">\n        <h1 class="col-12 heading__main">\n          Marker on {{marker.map_details?.name}}\n        </h1>\n        \n        <h3 class="col-12 heading__subheading"> \n          Properties \n        </h3>\n    </div>\n    \n    \x3c!-- Longitude --\x3e\n    <div class="row">\n      <div class="col-0 col-sm-4"></div>\n      <strong class="col-6 col-sm-3">Longitude: </strong> \n      <span class="col-6 col-sm-5">{{marker.longitude}}</span>\n    </div>\n\n    \x3c!-- Latitude --\x3e\n    <div class="row">\n      <div class="col-0 col-sm-4"></div>\n      <strong class="col-6 col-sm-3">Latitude: </strong> \n      <span class="col-6 col-sm-5">{{marker.latitude}}</span>\n    </div>\n\n    \x3c!-- Marker Type --\x3e\n    <div class="row">\n      <div class="col-0 col-sm-4"></div>\n      <strong class="col-6 col-sm-3">Marker type: </strong> \n      <span class="col-6 col-sm-5">{{marker.type_details?.name}}</span>\n    </div>\n\n    \x3c!-- Icon --\x3e\n    <div class="row">\n        <div class="col-0 col-sm-4"></div>\n        <strong class="col-6 col-sm-3">Icon: </strong>\n\n        <span class="col-6 col-sm-5"> \n          <ng-container *ngIf="marker.icon">\n            {{marker.icon}} \n            ( <app-icon [icon]="marker.icon" ></app-icon> )\n          </ng-container>\n          <ng-container *ngIf="!marker.icon">\n              {{marker.type_details?.icon}}\n              ( <app-icon [icon]="marker.type_details?.icon ?? \'\'"></app-icon> )\n              <span class="hint"> (from marker type) </span> \n          </ng-container>     \n\n        </span>\n\n    </div>\n\n    \x3c!-- Color --\x3e\n    <div class="row mb-5">\n        <div class="col-sm-4 col-0"></div>\n        <strong class="col-6 col-sm-3">Color: </strong> \n\n        <span class="col-sm-5 col-6"> \n            <ng-container *ngIf="marker.color">\n                {{marker.color}}\n            </ng-container> \n            <ng-container *ngIf="!marker.color">\n                {{marker.type_details?.color}}                    \n                <span class="hint"> (from marker type) </span> \n            </ng-container> \n        </span>\n    </div>\n\n  \x3c!-- Footer (Move to other Article + Delete Article) --\x3e\n  <app-article-footer\n    [buttonLink]="locationUrl"\n    [buttonLabel]="\'Back to \' + marker.location_details?.name"\n    [showDelete]="canDelete"\n    [deleteMessage]="\'Delete Marker?\'"\n    (delete)="markerDelete.emit(marker)"\n  ></app-article-footer>\n</article>\n',styles:[marker_componentngResource_default()]})],MarkerComponent);const marker_stories={title:"DesignSystem/Templates/MarkerComponent",component:MarkerComponent,decorators:[(0,angular_dist.moduleMetadata)({imports:[organisms.kJ,testing.Z_],declarations:[]})],args:{marker:{pk:1,getAbsoluteRouterUrl:()=>"https://example.com/map-marker/1",color:"#ff0000",icon:"plus",latitude:51.5074,longitude:-.1278,map:123,map_details:{name:"Map of London"},location:456,location_details:{name:"London",parent_location_name:"United Kingdom",description:"Capital city of England",sublocations:["Westminster","Camden","Kensington and Chelsea"]},type:789,type_details:{name:"Landmark",is_text_marker:!1,icon:"fa-landmark",color:"#ffa500",pk:789,fontawesome_type:"solid"},campaign_details:{name:"Campaign of Adventures",id:1}},canUpdate:!0,canDelete:!0}},Template=args=>({props:{...args,markerDelete:(0,dist.aD)("markerDelete")}}),Default=Template.bind({});Default.args={};const NoPermission=Template.bind({});NoPermission.args={canDelete:!1,canUpdate:!1}},"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{aD:()=>chunk_KKE3V3AL.aD});var chunk_KKE3V3AL=__webpack_require__("./node_modules/@storybook/addon-actions/dist/chunk-KKE3V3AL.mjs");__webpack_require__("./node_modules/@storybook/addon-actions/dist/chunk-VWCVBQ22.mjs")},"./src/app/design/templates/marker/marker.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".marker__edit-container {\n  width: 100%;\n  display: flex;\n  justify-content: end;\n}\n.marker__subheading {\n  margin-bottom: var(--spacer-3);\n  text-align: center;\n}\n\n.heading {\n  text-align: center;\n}\n\n.hint {\n  margin-left: var(--spacer-3);\n  color: var(--bs-gray);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);