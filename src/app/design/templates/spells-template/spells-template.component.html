<app-page-container>
  <article>
    <h1 class="heading">
      Spells

      <ng-container *ngFor="let name of selectedClassNames; let i = index">
        <app-badge
          class="heading__player-class-badge"
          [text]="name"
          [icon]="'times'"
          [type]="'DARK'"
          (click)="onClassRemove(name)"
        ></app-badge>
      </ng-container>
    </h1>

    <app-spells
      [spells]="filteredSpells"
      [serverModel]="serverModel"
      [canCreate]="canCreate"
      [canUpdate]="canUpdate"
      [canDelete]="canDelete"
      [playerClasses]="playerClasses"
      (spellDelete)="spellDelete.emit($event)"
      (spellCreate)="spellCreate.emit($event)"
      (spellUpdate)="spellUpdate.emit($event)"
      (connectionDelete)="connectionDelete.emit($event)"
      (connectionCreate)="connectionCreate.emit($event)"
      (spellClassClick)="onClassAdd($event)"
    ></app-spells>

    <div class="container">
      <a class="row back-link" [routerLink]="homeUrl">
        <app-button
          [type]="'SECONDARY'"
          [text]="'Back to Frontpage'"
        ></app-button>
      </a>
    </div>
  </article>
</app-page-container>
