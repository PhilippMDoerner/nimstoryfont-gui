(self.webpackChunknimstoryfont_gui=self.webpackChunknimstoryfont_gui||[]).push([[4074],{"./src/app/design/templates/quest/quest.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,NoPermission:()=>NoPermission,default:()=>quest_stories});var testing=__webpack_require__("./node_modules/@angular/router/fesm2020/testing.mjs"),dist=__webpack_require__("./node_modules/@storybook/addon-actions/dist/index.mjs"),angular_dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),organisms=__webpack_require__("./src/app/design/organisms/index.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _class,quest_componentngResource=__webpack_require__("./src/app/design/templates/quest/quest.component.scss?ngResource"),quest_componentngResource_default=__webpack_require__.n(quest_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),routing_service=__webpack_require__("./src/app/_services/routing.service.ts");let QuestComponent=((_class=class QuestComponent{constructor(routingService){this.routingService=routingService,this.canUpdate=!1,this.canDelete=!1,this.questDelete=new core.EventEmitter}ngOnInit(){const campaignName=this.quest.campaign_details?.name;this.overviewUrl=this.routingService.getRoutePath("quest-overview",{campaign:campaignName}),this.setUrls()}ngOnChanges(){this.setUrls()}setUrls(){const campaignName=this.quest.campaign_details?.name;this.questGiverUrl=this.routingService.getRoutePath("character",{campaign:campaignName,name:this.quest.giver_details?.name}),this.updateUrl=this.routingService.getRoutePath("quest-update",{campaign:campaignName,name:this.quest.name})}}).ctorParameters=()=>[{type:routing_service.Z}],_class.propDecorators={quest:[{type:core.Input}],canUpdate:[{type:core.Input}],canDelete:[{type:core.Input}],questDelete:[{type:core.Output}]},_class);QuestComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"app-quest",template:'<article class="container quest">\n  <ng-container *ngIf="canUpdate">\n    <div class="quest__edit-container">\n      <a [routerLink]="updateUrl">\n        <app-button\n          [icon]="\'pencil\'"\n          [type]="\'SECONDARY\'"\n        ></app-button>\n      </a>\n    </div>\n  </ng-container>\n\n  \x3c!-- Heading --\x3e\n  <div class="row">\n    <h1 class="col-12 quest__heading"> \n      {{ quest.name }} \n    </h1>\n  </div>\n\n  <div class="row quest__data-row"> \n      \x3c!-- Quest Status --\x3e\n      <span class="col-5">Status:</span>\n      <span class="col-7">{{ quest.status }}</span>     \n\n      \x3c!-- Quest Start --\x3e\n      <div class="col-5">Start - End:</div>\n      <div class="col-7">\n          {{ quest.start_session_details?.name }} - \n          <ng-container *ngIf="quest.end_session_details; else Ongoing"> \n              {{ quest.end_session_details.name }} \n          </ng-container>\n      </div>\n      \n      \x3c!-- Quest Giver --\x3e\n      <span class="col-5">Quest Giver:</span>\n      <span class="col-7">\n          <ng-container *ngIf="quest.giver_details; else NoQuestGiver">\n              <a [routerLink]="questGiverUrl">\n                  {{ quest.giver_details.name }}\n              </a>\n          </ng-container>\n      </span>\n  </div>\n\n  \x3c!-- Description --\x3e\n  <div class="quest__description">\n    <h4> Description </h4>\n    <app-html-text\n      [text]="quest.description"\n    ></app-html-text>\n  </div>\n\n  \x3c!-- Footer (Move to other Article + Delete Article) --\x3e\n  <app-article-footer\n    [buttonLink]="overviewUrl"\n    [buttonLabel]="\'Back to Quest Overview\'"\n    [showDelete]="canDelete"\n    [deleteMessage]="\'Delete Quest?\'"\n    (delete)="questDelete.emit(quest)"\n  ></app-article-footer>\n</article>\n\n\n<ng-template #Ongoing>\n  Ongoing\n</ng-template>\n\n<ng-template #NoQuestGiver>\n  None\n</ng-template>\n',styles:[quest_componentngResource_default()]})],QuestComponent);const quest_stories={title:"DesignSystem/Templates/QuestComponent",component:QuestComponent,decorators:[(0,angular_dist.moduleMetadata)({imports:[organisms.kJ,testing.Z_],declarations:[]})],args:{canUpdate:!0,canDelete:!0,quest:{pk:123,name:"Rescue the Princess",status:"In progress",taker:456,taker_details:{name:"Sir Lancelot",name_full:"Sir Lancelot of Camelot",pk:456},abstract:"The king's daughter has been kidnapped by a dragon, and Sir Lancelot has been tasked with rescuing her.",description:"Sir Lancelot must journey to the dragon's lair, fight the beast, and rescue the princess. He will need to be well-prepared and gather allies along the way.",giver:789,giver_details:{name:"King Arthur",name_full:"Arthur Pendragon, King of Camelot",pk:789},start_session:12,start_session_details:{pk:12,is_main_session:!0,session_number:12,session_date:"2022-06-01"},end_session:16,end_session_details:{pk:16,is_main_session:!1,session_number:16,session_date:"2022-06-30"},campaign:1,campaign_details:{pk:1,name:"Campaign of Adventures"},creation_datetime:"2022-05-01T10:00:00Z",update_datetime:"2022-05-03T14:30:00Z",getAbsoluteRouterUrl:()=>"https://example.com/quests/123"}}},Template=args=>({props:{...args,createImage:(0,dist.aD)("createImage"),deleteImage:(0,dist.aD)("deleteImage"),updateImage:(0,dist.aD)("updateImage"),itemDelete:(0,dist.aD)("itemDelete")}}),Default=Template.bind({});Default.args={};const NoPermission=Template.bind({});NoPermission.args={canDelete:!1,canUpdate:!1}},"./node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{aD:()=>chunk_KKE3V3AL.aD});var chunk_KKE3V3AL=__webpack_require__("./node_modules/@storybook/addon-actions/dist/chunk-KKE3V3AL.mjs");__webpack_require__("./node_modules/@storybook/addon-actions/dist/chunk-VWCVBQ22.mjs")},"./src/app/design/templates/quest/quest.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".quest__edit-container {\n  width: 100%;\n  display: flex;\n  justify-content: end;\n}\n.quest__heading {\n  text-align: center;\n}\n.quest__data-row {\n  margin-bottom: var(--spacer-5);\n}\n.quest__description {\n  margin-bottom: var(--spacer-5);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);